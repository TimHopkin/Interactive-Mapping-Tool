{"ast":null,"code":"var _jsxFileName = \"/Users/timhopkin/Documents/Software Development/Interactive Mapping Tool/frontend/src/components/map/MapComponent.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport { MapContainer, TileLayer, LayersControl, GeoJSON, Marker, Popup, ZoomControl } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport L from 'leaflet';\nimport { useUserPreferences } from '../../context/UserPreferencesContext';\nimport MapKeyboardNavigation from './MapKeyboardNavigation';\nimport MapAccessibilityControls from './MapAccessibilityControls';\nimport MapLegend from './MapLegend';\nimport MapDataTable from './MapDataTable';\n\n// Fix for default marker icons\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png'\n});\nconst {\n  BaseLayer,\n  Overlay\n} = LayersControl;\nconst MapComponent = ({\n  layers = [],\n  center = [51.505, -0.09],\n  zoom = 13,\n  onMapMove = () => {},\n  onLayerToggle = () => {}\n}) => {\n  _s();\n  const [map, setMap] = useState(null);\n  const [activeLayers, setActiveLayers] = useState({});\n  const [showDataTable, setShowDataTable] = useState(false);\n  const [selectedFeature, setSelectedFeature] = useState(null);\n  const [mapDescription, setMapDescription] = useState('');\n  const mapContainerRef = useRef(null);\n  const {\n    preferences\n  } = useUserPreferences();\n\n  // Generate accessible map description based on active layers\n  useEffect(() => {\n    if (!map) return;\n    const activeLayersList = Object.keys(activeLayers).filter(id => activeLayers[id]).map(id => {\n      const layer = layers.find(l => l.id === id);\n      return layer ? layer.name : '';\n    }).filter(Boolean);\n    const bounds = map.getBounds();\n    const northEast = bounds.getNorthEast();\n    const southWest = bounds.getSouthWest();\n    let description = `Interactive map centered at latitude ${center[0].toFixed(4)} and longitude ${center[1].toFixed(4)}, zoom level ${map.getZoom()}.`;\n    if (activeLayersList.length > 0) {\n      description += ` Showing ${activeLayersList.length} layers: ${activeLayersList.join(', ')}.`;\n    } else {\n      description += ' No data layers are currently active.';\n    }\n    description += ` Map area covers from ${southWest.lat.toFixed(4)},${southWest.lng.toFixed(4)} to ${northEast.lat.toFixed(4)},${northEast.lng.toFixed(4)}.`;\n    setMapDescription(description);\n  }, [map, center, activeLayers, layers]);\n\n  // When map or layers change, update the view\n  useEffect(() => {\n    if (!map) return;\n    map.setView(center, zoom);\n  }, [map, center, zoom]);\n\n  // Apply user preferences to map\n  useEffect(() => {\n    if (!map) return;\n\n    // Apply preferences to map\n    if (preferences.textSize !== 'default' || preferences.highContrast) {\n      // Update map container styles\n      const container = mapContainerRef.current;\n      if (container) {\n        if (preferences.highContrast) {\n          container.classList.add('high-contrast-map');\n        } else {\n          container.classList.remove('high-contrast-map');\n        }\n      }\n\n      // Force map to refresh to apply styles\n      map.invalidateSize();\n    }\n  }, [map, preferences, preferences.textSize, preferences.highContrast, preferences.mapControls]);\n  const onEachFeature = (feature, layer) => {\n    if (feature.properties) {\n      // Create accessible popup content\n      const popupContentArray = Object.entries(feature.properties).map(([key, value]) => `<strong>${key}:</strong> ${value}`);\n      const popupContent = `\n        <div class=\"feature-popup\" role=\"dialog\" aria-label=\"Feature information\">\n          <h3 class=\"feature-title\">${feature.properties.name || 'Feature Details'}</h3>\n          <dl class=\"feature-properties\">\n            ${popupContentArray.map(item => `\n              <div class=\"property-item\">\n                <dt>${item.split(':')[0].replace('<strong>', '').replace('</strong>', '')}</dt>\n                <dd>${item.split(':')[1]}</dd>\n              </div>\n            `).join('')}\n          </dl>\n        </div>\n      `;\n\n      // Bind popup with accessible markup\n      layer.bindPopup(popupContent);\n\n      // Add keyboard event handling for accessibility\n      layer.on('keypress', e => {\n        if (e.originalEvent.key === 'Enter' || e.originalEvent.key === ' ') {\n          layer.openPopup();\n        }\n      });\n\n      // Add tabindex to make features focusable\n      if (layer.getElement) {\n        const element = layer.getElement();\n        if (element) {\n          element.setAttribute('tabindex', '0');\n          element.setAttribute('role', 'button');\n          element.setAttribute('aria-label', `${feature.properties.name || 'Unnamed feature'} - Click to view details`);\n        }\n      }\n\n      // Handle click events\n      layer.on('click', () => {\n        setSelectedFeature(feature);\n      });\n    }\n  };\n  const toggleLayer = (layerId, active) => {\n    setActiveLayers(prev => {\n      const updated = {\n        ...prev,\n        [layerId]: active\n      };\n\n      // Call the onLayerToggle callback\n      onLayerToggle(updated);\n      return updated;\n    });\n  };\n  const handleMapMove = () => {\n    if (!map) return;\n    const center = map.getCenter();\n    const zoom = map.getZoom();\n    const bounds = map.getBounds();\n    onMapMove({\n      center: [center.lat, center.lng],\n      zoom,\n      bounds: {\n        north: bounds.getNorth(),\n        south: bounds.getSouth(),\n        east: bounds.getEast(),\n        west: bounds.getWest()\n      }\n    });\n  };\n  const toggleDataTable = () => {\n    setShowDataTable(!showDataTable);\n  };\n\n  // Create a ref for the map instance\n  const mapRef = useRef(null);\n\n  // Use effect to set the map when the ref changes\n  useEffect(() => {\n    if (mapRef.current) {\n      setMap(mapRef.current);\n    }\n  }, [mapRef]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"map-component\",\n    ref: mapContainerRef,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"sr-only map-description\",\n      \"aria-live\": \"polite\",\n      children: mapDescription\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map-tools\",\n      children: /*#__PURE__*/_jsxDEV(MapAccessibilityControls, {\n        showTable: showDataTable,\n        onToggleTable: toggleDataTable\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map-container\",\n      style: {\n        height: '600px',\n        width: '100%'\n      },\n      children: /*#__PURE__*/_jsxDEV(MapContainer, {\n        center: center,\n        zoom: zoom,\n        style: {\n          height: '100%',\n          width: '100%'\n        },\n        ref: mapRef,\n        zoomControl: false,\n        attributionControl: true,\n        onMoveEnd: handleMapMove\n        // ARIA attributes for accessibility\n        ,\n        \"aria-label\": \"Interactive map for land analysis\",\n        role: \"application\",\n        children: [/*#__PURE__*/_jsxDEV(ZoomControl, {\n          position: \"topright\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this), preferences.mapControls.keyboardNavigation && /*#__PURE__*/_jsxDEV(MapKeyboardNavigation, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(LayersControl, {\n          position: \"topright\",\n          children: [/*#__PURE__*/_jsxDEV(BaseLayer, {\n            checked: true,\n            name: \"OpenStreetMap Standard\",\n            children: /*#__PURE__*/_jsxDEV(TileLayer, {\n              attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\",\n              url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n              \"aria-label\": \"OpenStreetMap standard view\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(BaseLayer, {\n            name: \"OpenStreetMap Humanitarian\",\n            children: /*#__PURE__*/_jsxDEV(TileLayer, {\n              attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors, <a href=\\\"https://www.hotosm.org/\\\">Humanitarian OpenStreetMap Team</a>\",\n              url: \"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png\",\n              \"aria-label\": \"OpenStreetMap humanitarian view - higher contrast for better visibility\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(BaseLayer, {\n            name: \"High Contrast\",\n            children: /*#__PURE__*/_jsxDEV(TileLayer, {\n              attribution: \"\\xA9 <a href=\\\"https://carto.com/\\\">CARTO</a>\",\n              url: \"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png\",\n              \"aria-label\": \"High contrast map view for better visibility\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(BaseLayer, {\n            name: \"Satellite\",\n            children: /*#__PURE__*/_jsxDEV(TileLayer, {\n              attribution: \"\\xA9 Esri \\u2014 Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community\",\n              url: \"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\",\n              \"aria-label\": \"Satellite imagery view\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 13\n          }, this), layers.map(layer => /*#__PURE__*/_jsxDEV(Overlay, {\n            name: layer.name,\n            checked: activeLayers[layer.id] || false,\n            \"aria-label\": `Toggle ${layer.name} layer visibility`,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              onAdd: () => toggleLayer(layer.id, true),\n              onRemove: () => toggleLayer(layer.id, false),\n              children: [layer.type === 'geojson' && layer.data && /*#__PURE__*/_jsxDEV(GeoJSON, {\n                data: layer.data,\n                style: layer.style || {},\n                onEachFeature: onEachFeature,\n                \"aria-label\": `${layer.name} geospatial data layer`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 21\n              }, this), layer.type === 'marker' && layer.position && /*#__PURE__*/_jsxDEV(Marker, {\n                position: layer.position,\n                \"aria-label\": layer.name || 'Map marker',\n                children: /*#__PURE__*/_jsxDEV(Popup, {\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    role: \"dialog\",\n                    \"aria-label\": \"Marker information\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                      children: layer.name || 'Location'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 284,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: layer.popupContent || 'Point of interest'\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 285,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                        children: \"Coordinates:\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 287,\n                        columnNumber: 29\n                      }, this), \" \", layer.position[0].toFixed(4), \", \", layer.position[1].toFixed(4)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 286,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 283,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 282,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 17\n            }, this)\n          }, layer.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MapLegend, {\n      layers: layers.filter(layer => activeLayers[layer.id])\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 7\n    }, this), showDataTable && /*#__PURE__*/_jsxDEV(MapDataTable, {\n      layers: layers.filter(layer => activeLayers[layer.id]),\n      selectedFeature: selectedFeature,\n      onClose: () => setShowDataTable(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 187,\n    columnNumber: 5\n  }, this);\n};\n_s(MapComponent, \"FRQeZhPi+uGQkUMzF3adAOSZ0jo=\", false, function () {\n  return [useUserPreferences];\n});\n_c = MapComponent;\nexport default MapComponent;\nvar _c;\n$RefreshReg$(_c, \"MapComponent\");","map":{"version":3,"names":["React","useState","useEffect","useRef","MapContainer","TileLayer","LayersControl","GeoJSON","Marker","Popup","ZoomControl","L","useUserPreferences","MapKeyboardNavigation","MapAccessibilityControls","MapLegend","MapDataTable","jsxDEV","_jsxDEV","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","BaseLayer","Overlay","MapComponent","layers","center","zoom","onMapMove","onLayerToggle","_s","map","setMap","activeLayers","setActiveLayers","showDataTable","setShowDataTable","selectedFeature","setSelectedFeature","mapDescription","setMapDescription","mapContainerRef","preferences","activeLayersList","Object","keys","filter","id","layer","find","l","name","Boolean","bounds","getBounds","northEast","getNorthEast","southWest","getSouthWest","description","toFixed","getZoom","length","join","lat","lng","setView","textSize","highContrast","container","current","classList","add","remove","invalidateSize","mapControls","onEachFeature","feature","properties","popupContentArray","entries","key","value","popupContent","item","split","replace","bindPopup","on","e","originalEvent","openPopup","getElement","element","setAttribute","toggleLayer","layerId","active","prev","updated","handleMapMove","getCenter","north","getNorth","south","getSouth","east","getEast","west","getWest","toggleDataTable","mapRef","className","ref","children","fileName","_jsxFileName","lineNumber","columnNumber","showTable","onToggleTable","style","height","width","zoomControl","attributionControl","onMoveEnd","role","position","keyboardNavigation","checked","attribution","url","onAdd","onRemove","type","data","onClose","_c","$RefreshReg$"],"sources":["/Users/timhopkin/Documents/Software Development/Interactive Mapping Tool/frontend/src/components/map/MapComponent.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { MapContainer, TileLayer, LayersControl, GeoJSON, Marker, Popup, ZoomControl } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport L from 'leaflet';\nimport { useUserPreferences } from '../../context/UserPreferencesContext';\nimport MapKeyboardNavigation from './MapKeyboardNavigation';\nimport MapAccessibilityControls from './MapAccessibilityControls';\nimport MapLegend from './MapLegend';\nimport MapDataTable from './MapDataTable';\n\n// Fix for default marker icons\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png',\n  iconUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png',\n  shadowUrl: 'https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png',\n});\n\nconst { BaseLayer, Overlay } = LayersControl;\n\nconst MapComponent = ({ \n  layers = [], \n  center = [51.505, -0.09], \n  zoom = 13,\n  onMapMove = () => {},\n  onLayerToggle = () => {}\n}) => {\n  const [map, setMap] = useState(null);\n  const [activeLayers, setActiveLayers] = useState({});\n  const [showDataTable, setShowDataTable] = useState(false);\n  const [selectedFeature, setSelectedFeature] = useState(null);\n  const [mapDescription, setMapDescription] = useState('');\n  const mapContainerRef = useRef(null);\n  const { preferences } = useUserPreferences();\n\n  // Generate accessible map description based on active layers\n  useEffect(() => {\n    if (!map) return;\n    \n    const activeLayersList = Object.keys(activeLayers)\n      .filter(id => activeLayers[id])\n      .map(id => {\n        const layer = layers.find(l => l.id === id);\n        return layer ? layer.name : '';\n      })\n      .filter(Boolean);\n    \n    const bounds = map.getBounds();\n    const northEast = bounds.getNorthEast();\n    const southWest = bounds.getSouthWest();\n    \n    let description = `Interactive map centered at latitude ${center[0].toFixed(4)} and longitude ${center[1].toFixed(4)}, zoom level ${map.getZoom()}.`;\n    \n    if (activeLayersList.length > 0) {\n      description += ` Showing ${activeLayersList.length} layers: ${activeLayersList.join(', ')}.`;\n    } else {\n      description += ' No data layers are currently active.';\n    }\n    \n    description += ` Map area covers from ${southWest.lat.toFixed(4)},${southWest.lng.toFixed(4)} to ${northEast.lat.toFixed(4)},${northEast.lng.toFixed(4)}.`;\n    \n    setMapDescription(description);\n  }, [map, center, activeLayers, layers]);\n\n  // When map or layers change, update the view\n  useEffect(() => {\n    if (!map) return;\n    map.setView(center, zoom);\n  }, [map, center, zoom]);\n\n  // Apply user preferences to map\n  useEffect(() => {\n    if (!map) return;\n    \n    // Apply preferences to map\n    if (preferences.textSize !== 'default' || preferences.highContrast) {\n      // Update map container styles\n      const container = mapContainerRef.current;\n      if (container) {\n        if (preferences.highContrast) {\n          container.classList.add('high-contrast-map');\n        } else {\n          container.classList.remove('high-contrast-map');\n        }\n      }\n      \n      // Force map to refresh to apply styles\n      map.invalidateSize();\n    }\n  }, [map, preferences, preferences.textSize, preferences.highContrast, preferences.mapControls]);\n\n  const onEachFeature = (feature, layer) => {\n    if (feature.properties) {\n      // Create accessible popup content\n      const popupContentArray = Object.entries(feature.properties)\n        .map(([key, value]) => `<strong>${key}:</strong> ${value}`);\n      \n      const popupContent = `\n        <div class=\"feature-popup\" role=\"dialog\" aria-label=\"Feature information\">\n          <h3 class=\"feature-title\">${feature.properties.name || 'Feature Details'}</h3>\n          <dl class=\"feature-properties\">\n            ${popupContentArray.map(item => `\n              <div class=\"property-item\">\n                <dt>${item.split(':')[0].replace('<strong>', '').replace('</strong>', '')}</dt>\n                <dd>${item.split(':')[1]}</dd>\n              </div>\n            `).join('')}\n          </dl>\n        </div>\n      `;\n      \n      // Bind popup with accessible markup\n      layer.bindPopup(popupContent);\n      \n      // Add keyboard event handling for accessibility\n      layer.on('keypress', (e) => {\n        if (e.originalEvent.key === 'Enter' || e.originalEvent.key === ' ') {\n          layer.openPopup();\n        }\n      });\n      \n      // Add tabindex to make features focusable\n      if (layer.getElement) {\n        const element = layer.getElement();\n        if (element) {\n          element.setAttribute('tabindex', '0');\n          element.setAttribute('role', 'button');\n          element.setAttribute('aria-label', `${feature.properties.name || 'Unnamed feature'} - Click to view details`);\n        }\n      }\n      \n      // Handle click events\n      layer.on('click', () => {\n        setSelectedFeature(feature);\n      });\n    }\n  };\n\n  const toggleLayer = (layerId, active) => {\n    setActiveLayers(prev => {\n      const updated = {\n        ...prev,\n        [layerId]: active\n      };\n      \n      // Call the onLayerToggle callback\n      onLayerToggle(updated);\n      \n      return updated;\n    });\n  };\n\n  const handleMapMove = () => {\n    if (!map) return;\n    \n    const center = map.getCenter();\n    const zoom = map.getZoom();\n    const bounds = map.getBounds();\n    \n    onMapMove({\n      center: [center.lat, center.lng],\n      zoom,\n      bounds: {\n        north: bounds.getNorth(),\n        south: bounds.getSouth(),\n        east: bounds.getEast(),\n        west: bounds.getWest()\n      }\n    });\n  };\n\n  const toggleDataTable = () => {\n    setShowDataTable(!showDataTable);\n  };\n\n  // Create a ref for the map instance\n  const mapRef = useRef(null);\n  \n  // Use effect to set the map when the ref changes\n  useEffect(() => {\n    if (mapRef.current) {\n      setMap(mapRef.current);\n    }\n  }, [mapRef]);\n  \n  return (\n    <div className=\"map-component\" ref={mapContainerRef}>\n      <div \n        className=\"sr-only map-description\" \n        aria-live=\"polite\"\n      >\n        {mapDescription}\n      </div>\n      \n      <div className=\"map-tools\">\n        <MapAccessibilityControls \n          showTable={showDataTable}\n          onToggleTable={toggleDataTable}\n        />\n      </div>\n      \n      <div className=\"map-container\" style={{ height: '600px', width: '100%' }}>\n        <MapContainer \n          center={center} \n          zoom={zoom} \n          style={{ height: '100%', width: '100%' }}\n          ref={mapRef}\n          zoomControl={false}\n          attributionControl={true}\n          onMoveEnd={handleMapMove}\n          // ARIA attributes for accessibility\n          aria-label=\"Interactive map for land analysis\"\n          role=\"application\"\n        >\n          {/* Custom position for zoom controls - better UX */}\n          <ZoomControl position=\"topright\" />\n          \n          {/* Keyboard navigation component */}\n          {preferences.mapControls.keyboardNavigation && (\n            <MapKeyboardNavigation />\n          )}\n          \n          <LayersControl position=\"topright\">\n            <BaseLayer checked name=\"OpenStreetMap Standard\">\n              <TileLayer\n                attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\n                url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n                aria-label=\"OpenStreetMap standard view\"\n              />\n            </BaseLayer>\n            \n            <BaseLayer name=\"OpenStreetMap Humanitarian\">\n              <TileLayer\n                attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, <a href=\"https://www.hotosm.org/\">Humanitarian OpenStreetMap Team</a>'\n                url=\"https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png\"\n                aria-label=\"OpenStreetMap humanitarian view - higher contrast for better visibility\"\n              />\n            </BaseLayer>\n            \n            <BaseLayer name=\"High Contrast\">\n              <TileLayer\n                attribution='&copy; <a href=\"https://carto.com/\">CARTO</a>'\n                url=\"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}.png\"\n                aria-label=\"High contrast map view for better visibility\"\n              />\n            </BaseLayer>\n            \n            <BaseLayer name=\"Satellite\">\n              <TileLayer\n                attribution='&copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'\n                url=\"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}\"\n                aria-label=\"Satellite imagery view\"\n              />\n            </BaseLayer>\n            \n            {/* Data layers */}\n            {layers.map((layer) => (\n              <Overlay \n                key={layer.id} \n                name={layer.name}\n                checked={activeLayers[layer.id] || false}\n                aria-label={`Toggle ${layer.name} layer visibility`}\n              >\n                <div\n                  onAdd={() => toggleLayer(layer.id, true)}\n                  onRemove={() => toggleLayer(layer.id, false)}\n                >\n                  {layer.type === 'geojson' && layer.data && (\n                    <GeoJSON \n                      data={layer.data} \n                      style={layer.style || {}} \n                      onEachFeature={onEachFeature}\n                      aria-label={`${layer.name} geospatial data layer`}\n                    />\n                  )}\n                  \n                  {layer.type === 'marker' && layer.position && (\n                    <Marker \n                      position={layer.position}\n                      aria-label={layer.name || 'Map marker'}\n                    >\n                      <Popup>\n                        <div role=\"dialog\" aria-label=\"Marker information\">\n                          <h3>{layer.name || 'Location'}</h3>\n                          <p>{layer.popupContent || 'Point of interest'}</p>\n                          <p>\n                            <strong>Coordinates:</strong> {layer.position[0].toFixed(4)}, {layer.position[1].toFixed(4)}\n                          </p>\n                        </div>\n                      </Popup>\n                    </Marker>\n                  )}\n                </div>\n              </Overlay>\n            ))}\n          </LayersControl>\n        </MapContainer>\n      </div>\n      \n      {/* Map legend */}\n      <MapLegend \n        layers={layers.filter(layer => activeLayers[layer.id])}\n      />\n      \n      {/* Data table for screen reader users */}\n      {showDataTable && (\n        <MapDataTable \n          layers={layers.filter(layer => activeLayers[layer.id])}\n          selectedFeature={selectedFeature}\n          onClose={() => setShowDataTable(false)}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default MapComponent;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAC1D,SAASC,YAAY,EAAEC,SAAS,EAAEC,aAAa,EAAEC,OAAO,EAAEC,MAAM,EAAEC,KAAK,EAAEC,WAAW,QAAQ,eAAe;AAC3G,OAAO,0BAA0B;AACjC,OAAOC,CAAC,MAAM,SAAS;AACvB,SAASC,kBAAkB,QAAQ,sCAAsC;AACzE,OAAOC,qBAAqB,MAAM,yBAAyB;AAC3D,OAAOC,wBAAwB,MAAM,4BAA4B;AACjE,OAAOC,SAAS,MAAM,aAAa;AACnC,OAAOC,YAAY,MAAM,gBAAgB;;AAEzC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,OAAOP,CAAC,CAACQ,IAAI,CAACC,OAAO,CAACC,SAAS,CAACC,WAAW;AAC3CX,CAAC,CAACQ,IAAI,CAACC,OAAO,CAACG,YAAY,CAAC;EAC1BC,aAAa,EAAE,gFAAgF;EAC/FC,OAAO,EAAE,6EAA6E;EACtFC,SAAS,EAAE;AACb,CAAC,CAAC;AAEF,MAAM;EAAEC,SAAS;EAAEC;AAAQ,CAAC,GAAGtB,aAAa;AAE5C,MAAMuB,YAAY,GAAGA,CAAC;EACpBC,MAAM,GAAG,EAAE;EACXC,MAAM,GAAG,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC;EACxBC,IAAI,GAAG,EAAE;EACTC,SAAS,GAAGA,CAAA,KAAM,CAAC,CAAC;EACpBC,aAAa,GAAGA,CAAA,KAAM,CAAC;AACzB,CAAC,KAAK;EAAAC,EAAA;EACJ,MAAM,CAACC,GAAG,EAAEC,MAAM,CAAC,GAAGpC,QAAQ,CAAC,IAAI,CAAC;EACpC,MAAM,CAACqC,YAAY,EAAEC,eAAe,CAAC,GAAGtC,QAAQ,CAAC,CAAC,CAAC,CAAC;EACpD,MAAM,CAACuC,aAAa,EAAEC,gBAAgB,CAAC,GAAGxC,QAAQ,CAAC,KAAK,CAAC;EACzD,MAAM,CAACyC,eAAe,EAAEC,kBAAkB,CAAC,GAAG1C,QAAQ,CAAC,IAAI,CAAC;EAC5D,MAAM,CAAC2C,cAAc,EAAEC,iBAAiB,CAAC,GAAG5C,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM6C,eAAe,GAAG3C,MAAM,CAAC,IAAI,CAAC;EACpC,MAAM;IAAE4C;EAAY,CAAC,GAAGnC,kBAAkB,CAAC,CAAC;;EAE5C;EACAV,SAAS,CAAC,MAAM;IACd,IAAI,CAACkC,GAAG,EAAE;IAEV,MAAMY,gBAAgB,GAAGC,MAAM,CAACC,IAAI,CAACZ,YAAY,CAAC,CAC/Ca,MAAM,CAACC,EAAE,IAAId,YAAY,CAACc,EAAE,CAAC,CAAC,CAC9BhB,GAAG,CAACgB,EAAE,IAAI;MACT,MAAMC,KAAK,GAAGvB,MAAM,CAACwB,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACH,EAAE,KAAKA,EAAE,CAAC;MAC3C,OAAOC,KAAK,GAAGA,KAAK,CAACG,IAAI,GAAG,EAAE;IAChC,CAAC,CAAC,CACDL,MAAM,CAACM,OAAO,CAAC;IAElB,MAAMC,MAAM,GAAGtB,GAAG,CAACuB,SAAS,CAAC,CAAC;IAC9B,MAAMC,SAAS,GAAGF,MAAM,CAACG,YAAY,CAAC,CAAC;IACvC,MAAMC,SAAS,GAAGJ,MAAM,CAACK,YAAY,CAAC,CAAC;IAEvC,IAAIC,WAAW,GAAG,wCAAwCjC,MAAM,CAAC,CAAC,CAAC,CAACkC,OAAO,CAAC,CAAC,CAAC,kBAAkBlC,MAAM,CAAC,CAAC,CAAC,CAACkC,OAAO,CAAC,CAAC,CAAC,gBAAgB7B,GAAG,CAAC8B,OAAO,CAAC,CAAC,GAAG;IAEpJ,IAAIlB,gBAAgB,CAACmB,MAAM,GAAG,CAAC,EAAE;MAC/BH,WAAW,IAAI,YAAYhB,gBAAgB,CAACmB,MAAM,YAAYnB,gBAAgB,CAACoB,IAAI,CAAC,IAAI,CAAC,GAAG;IAC9F,CAAC,MAAM;MACLJ,WAAW,IAAI,uCAAuC;IACxD;IAEAA,WAAW,IAAI,yBAAyBF,SAAS,CAACO,GAAG,CAACJ,OAAO,CAAC,CAAC,CAAC,IAAIH,SAAS,CAACQ,GAAG,CAACL,OAAO,CAAC,CAAC,CAAC,OAAOL,SAAS,CAACS,GAAG,CAACJ,OAAO,CAAC,CAAC,CAAC,IAAIL,SAAS,CAACU,GAAG,CAACL,OAAO,CAAC,CAAC,CAAC,GAAG;IAE1JpB,iBAAiB,CAACmB,WAAW,CAAC;EAChC,CAAC,EAAE,CAAC5B,GAAG,EAAEL,MAAM,EAAEO,YAAY,EAAER,MAAM,CAAC,CAAC;;EAEvC;EACA5B,SAAS,CAAC,MAAM;IACd,IAAI,CAACkC,GAAG,EAAE;IACVA,GAAG,CAACmC,OAAO,CAACxC,MAAM,EAAEC,IAAI,CAAC;EAC3B,CAAC,EAAE,CAACI,GAAG,EAAEL,MAAM,EAAEC,IAAI,CAAC,CAAC;;EAEvB;EACA9B,SAAS,CAAC,MAAM;IACd,IAAI,CAACkC,GAAG,EAAE;;IAEV;IACA,IAAIW,WAAW,CAACyB,QAAQ,KAAK,SAAS,IAAIzB,WAAW,CAAC0B,YAAY,EAAE;MAClE;MACA,MAAMC,SAAS,GAAG5B,eAAe,CAAC6B,OAAO;MACzC,IAAID,SAAS,EAAE;QACb,IAAI3B,WAAW,CAAC0B,YAAY,EAAE;UAC5BC,SAAS,CAACE,SAAS,CAACC,GAAG,CAAC,mBAAmB,CAAC;QAC9C,CAAC,MAAM;UACLH,SAAS,CAACE,SAAS,CAACE,MAAM,CAAC,mBAAmB,CAAC;QACjD;MACF;;MAEA;MACA1C,GAAG,CAAC2C,cAAc,CAAC,CAAC;IACtB;EACF,CAAC,EAAE,CAAC3C,GAAG,EAAEW,WAAW,EAAEA,WAAW,CAACyB,QAAQ,EAAEzB,WAAW,CAAC0B,YAAY,EAAE1B,WAAW,CAACiC,WAAW,CAAC,CAAC;EAE/F,MAAMC,aAAa,GAAGA,CAACC,OAAO,EAAE7B,KAAK,KAAK;IACxC,IAAI6B,OAAO,CAACC,UAAU,EAAE;MACtB;MACA,MAAMC,iBAAiB,GAAGnC,MAAM,CAACoC,OAAO,CAACH,OAAO,CAACC,UAAU,CAAC,CACzD/C,GAAG,CAAC,CAAC,CAACkD,GAAG,EAAEC,KAAK,CAAC,KAAK,WAAWD,GAAG,cAAcC,KAAK,EAAE,CAAC;MAE7D,MAAMC,YAAY,GAAG;AAC3B;AACA,sCAAsCN,OAAO,CAACC,UAAU,CAAC3B,IAAI,IAAI,iBAAiB;AAClF;AACA,cAAc4B,iBAAiB,CAAChD,GAAG,CAACqD,IAAI,IAAI;AAC5C;AACA,sBAAsBA,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAACC,OAAO,CAAC,UAAU,EAAE,EAAE,CAAC,CAACA,OAAO,CAAC,WAAW,EAAE,EAAE,CAAC;AACzF,sBAAsBF,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AACxC;AACA,aAAa,CAAC,CAACtB,IAAI,CAAC,EAAE,CAAC;AACvB;AACA;AACA,OAAO;;MAED;MACAf,KAAK,CAACuC,SAAS,CAACJ,YAAY,CAAC;;MAE7B;MACAnC,KAAK,CAACwC,EAAE,CAAC,UAAU,EAAGC,CAAC,IAAK;QAC1B,IAAIA,CAAC,CAACC,aAAa,CAACT,GAAG,KAAK,OAAO,IAAIQ,CAAC,CAACC,aAAa,CAACT,GAAG,KAAK,GAAG,EAAE;UAClEjC,KAAK,CAAC2C,SAAS,CAAC,CAAC;QACnB;MACF,CAAC,CAAC;;MAEF;MACA,IAAI3C,KAAK,CAAC4C,UAAU,EAAE;QACpB,MAAMC,OAAO,GAAG7C,KAAK,CAAC4C,UAAU,CAAC,CAAC;QAClC,IAAIC,OAAO,EAAE;UACXA,OAAO,CAACC,YAAY,CAAC,UAAU,EAAE,GAAG,CAAC;UACrCD,OAAO,CAACC,YAAY,CAAC,MAAM,EAAE,QAAQ,CAAC;UACtCD,OAAO,CAACC,YAAY,CAAC,YAAY,EAAE,GAAGjB,OAAO,CAACC,UAAU,CAAC3B,IAAI,IAAI,iBAAiB,0BAA0B,CAAC;QAC/G;MACF;;MAEA;MACAH,KAAK,CAACwC,EAAE,CAAC,OAAO,EAAE,MAAM;QACtBlD,kBAAkB,CAACuC,OAAO,CAAC;MAC7B,CAAC,CAAC;IACJ;EACF,CAAC;EAED,MAAMkB,WAAW,GAAGA,CAACC,OAAO,EAAEC,MAAM,KAAK;IACvC/D,eAAe,CAACgE,IAAI,IAAI;MACtB,MAAMC,OAAO,GAAG;QACd,GAAGD,IAAI;QACP,CAACF,OAAO,GAAGC;MACb,CAAC;;MAED;MACApE,aAAa,CAACsE,OAAO,CAAC;MAEtB,OAAOA,OAAO;IAChB,CAAC,CAAC;EACJ,CAAC;EAED,MAAMC,aAAa,GAAGA,CAAA,KAAM;IAC1B,IAAI,CAACrE,GAAG,EAAE;IAEV,MAAML,MAAM,GAAGK,GAAG,CAACsE,SAAS,CAAC,CAAC;IAC9B,MAAM1E,IAAI,GAAGI,GAAG,CAAC8B,OAAO,CAAC,CAAC;IAC1B,MAAMR,MAAM,GAAGtB,GAAG,CAACuB,SAAS,CAAC,CAAC;IAE9B1B,SAAS,CAAC;MACRF,MAAM,EAAE,CAACA,MAAM,CAACsC,GAAG,EAAEtC,MAAM,CAACuC,GAAG,CAAC;MAChCtC,IAAI;MACJ0B,MAAM,EAAE;QACNiD,KAAK,EAAEjD,MAAM,CAACkD,QAAQ,CAAC,CAAC;QACxBC,KAAK,EAAEnD,MAAM,CAACoD,QAAQ,CAAC,CAAC;QACxBC,IAAI,EAAErD,MAAM,CAACsD,OAAO,CAAC,CAAC;QACtBC,IAAI,EAAEvD,MAAM,CAACwD,OAAO,CAAC;MACvB;IACF,CAAC,CAAC;EACJ,CAAC;EAED,MAAMC,eAAe,GAAGA,CAAA,KAAM;IAC5B1E,gBAAgB,CAAC,CAACD,aAAa,CAAC;EAClC,CAAC;;EAED;EACA,MAAM4E,MAAM,GAAGjH,MAAM,CAAC,IAAI,CAAC;;EAE3B;EACAD,SAAS,CAAC,MAAM;IACd,IAAIkH,MAAM,CAACzC,OAAO,EAAE;MAClBtC,MAAM,CAAC+E,MAAM,CAACzC,OAAO,CAAC;IACxB;EACF,CAAC,EAAE,CAACyC,MAAM,CAAC,CAAC;EAEZ,oBACElG,OAAA;IAAKmG,SAAS,EAAC,eAAe;IAACC,GAAG,EAAExE,eAAgB;IAAAyE,QAAA,gBAClDrG,OAAA;MACEmG,SAAS,EAAC,yBAAyB;MACnC,aAAU,QAAQ;MAAAE,QAAA,EAEjB3E;IAAc;MAAA4E,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACZ,CAAC,eAENzG,OAAA;MAAKmG,SAAS,EAAC,WAAW;MAAAE,QAAA,eACxBrG,OAAA,CAACJ,wBAAwB;QACvB8G,SAAS,EAAEpF,aAAc;QACzBqF,aAAa,EAAEV;MAAgB;QAAAK,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC,CAAC,eAENzG,OAAA;MAAKmG,SAAS,EAAC,eAAe;MAACS,KAAK,EAAE;QAAEC,MAAM,EAAE,OAAO;QAAEC,KAAK,EAAE;MAAO,CAAE;MAAAT,QAAA,eACvErG,OAAA,CAACd,YAAY;QACX2B,MAAM,EAAEA,MAAO;QACfC,IAAI,EAAEA,IAAK;QACX8F,KAAK,EAAE;UAAEC,MAAM,EAAE,MAAM;UAAEC,KAAK,EAAE;QAAO,CAAE;QACzCV,GAAG,EAAEF,MAAO;QACZa,WAAW,EAAE,KAAM;QACnBC,kBAAkB,EAAE,IAAK;QACzBC,SAAS,EAAE1B;QACX;QAAA;QACA,cAAW,mCAAmC;QAC9C2B,IAAI,EAAC,aAAa;QAAAb,QAAA,gBAGlBrG,OAAA,CAACR,WAAW;UAAC2H,QAAQ,EAAC;QAAU;UAAAb,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CAAC,EAGlC5E,WAAW,CAACiC,WAAW,CAACsD,kBAAkB,iBACzCpH,OAAA,CAACL,qBAAqB;UAAA2G,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE,CACzB,eAEDzG,OAAA,CAACZ,aAAa;UAAC+H,QAAQ,EAAC,UAAU;UAAAd,QAAA,gBAChCrG,OAAA,CAACS,SAAS;YAAC4G,OAAO;YAAC/E,IAAI,EAAC,wBAAwB;YAAA+D,QAAA,eAC9CrG,OAAA,CAACb,SAAS;cACRmI,WAAW,EAAC,yFAAyF;cACrGC,GAAG,EAAC,oDAAoD;cACxD,cAAW;YAA6B;cAAAjB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzC;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACO,CAAC,eAEZzG,OAAA,CAACS,SAAS;YAAC6B,IAAI,EAAC,4BAA4B;YAAA+D,QAAA,eAC1CrG,OAAA,CAACb,SAAS;cACRmI,WAAW,EAAC,kKAAgK;cAC5KC,GAAG,EAAC,uDAAuD;cAC3D,cAAW;YAAyE;cAAAjB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACrF;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACO,CAAC,eAEZzG,OAAA,CAACS,SAAS;YAAC6B,IAAI,EAAC,eAAe;YAAA+D,QAAA,eAC7BrG,OAAA,CAACb,SAAS;cACRmI,WAAW,EAAC,+CAA+C;cAC3DC,GAAG,EAAC,6DAA6D;cACjE,cAAW;YAA8C;cAAAjB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC1D;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACO,CAAC,eAEZzG,OAAA,CAACS,SAAS;YAAC6B,IAAI,EAAC,WAAW;YAAA+D,QAAA,eACzBrG,OAAA,CAACb,SAAS;cACRmI,WAAW,EAAC,sIAAyI;cACrJC,GAAG,EAAC,+FAA+F;cACnG,cAAW;YAAwB;cAAAjB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACpC;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACO,CAAC,EAGX7F,MAAM,CAACM,GAAG,CAAEiB,KAAK,iBAChBnC,OAAA,CAACU,OAAO;YAEN4B,IAAI,EAAEH,KAAK,CAACG,IAAK;YACjB+E,OAAO,EAAEjG,YAAY,CAACe,KAAK,CAACD,EAAE,CAAC,IAAI,KAAM;YACzC,cAAY,UAAUC,KAAK,CAACG,IAAI,mBAAoB;YAAA+D,QAAA,eAEpDrG,OAAA;cACEwH,KAAK,EAAEA,CAAA,KAAMtC,WAAW,CAAC/C,KAAK,CAACD,EAAE,EAAE,IAAI,CAAE;cACzCuF,QAAQ,EAAEA,CAAA,KAAMvC,WAAW,CAAC/C,KAAK,CAACD,EAAE,EAAE,KAAK,CAAE;cAAAmE,QAAA,GAE5ClE,KAAK,CAACuF,IAAI,KAAK,SAAS,IAAIvF,KAAK,CAACwF,IAAI,iBACrC3H,OAAA,CAACX,OAAO;gBACNsI,IAAI,EAAExF,KAAK,CAACwF,IAAK;gBACjBf,KAAK,EAAEzE,KAAK,CAACyE,KAAK,IAAI,CAAC,CAAE;gBACzB7C,aAAa,EAAEA,aAAc;gBAC7B,cAAY,GAAG5B,KAAK,CAACG,IAAI;cAAyB;gBAAAgE,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACnD,CACF,EAEAtE,KAAK,CAACuF,IAAI,KAAK,QAAQ,IAAIvF,KAAK,CAACgF,QAAQ,iBACxCnH,OAAA,CAACV,MAAM;gBACL6H,QAAQ,EAAEhF,KAAK,CAACgF,QAAS;gBACzB,cAAYhF,KAAK,CAACG,IAAI,IAAI,YAAa;gBAAA+D,QAAA,eAEvCrG,OAAA,CAACT,KAAK;kBAAA8G,QAAA,eACJrG,OAAA;oBAAKkH,IAAI,EAAC,QAAQ;oBAAC,cAAW,oBAAoB;oBAAAb,QAAA,gBAChDrG,OAAA;sBAAAqG,QAAA,EAAKlE,KAAK,CAACG,IAAI,IAAI;oBAAU;sBAAAgE,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAK,CAAC,eACnCzG,OAAA;sBAAAqG,QAAA,EAAIlE,KAAK,CAACmC,YAAY,IAAI;oBAAmB;sBAAAgC,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAAI,CAAC,eAClDzG,OAAA;sBAAAqG,QAAA,gBACErG,OAAA;wBAAAqG,QAAA,EAAQ;sBAAY;wBAAAC,QAAA,EAAAC,YAAA;wBAAAC,UAAA;wBAAAC,YAAA;sBAAA,OAAQ,CAAC,KAAC,EAACtE,KAAK,CAACgF,QAAQ,CAAC,CAAC,CAAC,CAACpE,OAAO,CAAC,CAAC,CAAC,EAAC,IAAE,EAACZ,KAAK,CAACgF,QAAQ,CAAC,CAAC,CAAC,CAACpE,OAAO,CAAC,CAAC,CAAC;oBAAA;sBAAAuD,QAAA,EAAAC,YAAA;sBAAAC,UAAA;sBAAAC,YAAA;oBAAA,OAC1F,CAAC;kBAAA;oBAAAH,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACD;gBAAC;kBAAAH,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACD;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACF,CACT;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACE;UAAC,GAlCDtE,KAAK,CAACD,EAAE;YAAAoE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAmCN,CACV,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACW,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACZ,CAAC,eAGNzG,OAAA,CAACH,SAAS;MACRe,MAAM,EAAEA,MAAM,CAACqB,MAAM,CAACE,KAAK,IAAIf,YAAY,CAACe,KAAK,CAACD,EAAE,CAAC;IAAE;MAAAoE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxD,CAAC,EAGDnF,aAAa,iBACZtB,OAAA,CAACF,YAAY;MACXc,MAAM,EAAEA,MAAM,CAACqB,MAAM,CAACE,KAAK,IAAIf,YAAY,CAACe,KAAK,CAACD,EAAE,CAAC,CAAE;MACvDV,eAAe,EAAEA,eAAgB;MACjCoG,OAAO,EAAEA,CAAA,KAAMrG,gBAAgB,CAAC,KAAK;IAAE;MAAA+E,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACxC,CACF;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV,CAAC;AAACxF,EAAA,CAtSIN,YAAY;EAAA,QAaQjB,kBAAkB;AAAA;AAAAmI,EAAA,GAbtClH,YAAY;AAwSlB,eAAeA,YAAY;AAAC,IAAAkH,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}